"use strict";var e=eval,global=e("this"),FixedTables;!function(t){var e=function(){function e(e){this.model=new t.FixedTableModel(e),this.view=new t.FixedTableView(this.model)}return e}();t.FixedTable=e}(FixedTables||(FixedTables={})),"undefined"!=typeof module&&("undefined"==typeof module.exports.FixedTable&&(module.exports.FixedTable={}),module.exports.FixedTable=FixedTables.FixedTable),"undefined"!=typeof global&&("undefined"==typeof global.FixedTable&&(global.FixedTable={}),global.FixedTable=FixedTables.FixedTable);var FixedTables;!function(t){var e=function(){function e(e){this.tableView=t.TableView.fromData(e)}return e.prototype.setTableStyles=function(t){this.tableView.table.setStyles(t),this.setTheadStyles()},e.prototype.getTableViewIdName=function(){return this.tableView.getIdName()},e.prototype.setTheadLength=function(t){this.tableView.table.thead.setLineNumber(t)},e.prototype.setTheadStyles=function(){this.tableView.table.thead.setStyles(this.tableView.table)},e.prototype.setTbodyStyles=function(){this.tableView.table.tbody.setStyles(this.tableView.table)},e.prototype.getTheadWidth=function(){return this.tableView.table.thead.getWidth()},e.prototype.setTheadCells=function(t){this.tableView.table.thead.setCells(t)},e.prototype.setTbodyCells=function(t){this.tableView.table.tbody.setCells(t)},e.prototype.getTbodyPaddingLeft=function(){return this.tableView.table.tbody.getPaddingLeft()},e.prototype.getTbodyWidth=function(){return this.tableView.table.tbody.getTbodyWidth()},e.prototype.getTheadCell=function(t,e){return this.tableView.table.thead.getCells(t,e)},e.prototype.getTbodyCell=function(t,e){return this.tableView.table.tbody.getCells(t,e)},e.prototype.getFirstCell=function(){return this.tableView.table.thead.getFirstCell()},e}();t.FixedTableModel=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=0,i=function(){function t(t,e,i,o,d,r,h,l,s,n,a,b,p,u,f,y,g){this.id=t,this.parent=e,this.tagName=i,this.x=o,this.y=d,this.width=r,this.height=h,this.outerWidth=l,this.outerHeight=s,this.paddingTop=n,this.paddingRight=a,this.paddingBottom=b,this.paddingLeft=p,this.borderTopWidth=u,this.borderRightWidth=f,this.borderBottomWidth=y,this.borderLeftWidth=g,this.id=this.createId(),this.width=this.getWidth(),this.height=this.getHeight()}return t.fromData=function(e){return new t(e.id?e.id:0,e.parent?e.parent:"",e.tagName?e.tagName:"",e.x?e.x:0,e.y?e.y:0,e.width?e.width:0,e.height?e.height:0,e.outerWidth?e.outerWidth:0,e.outerHeight?e.outerHeight:0,e.paddingTop?e.paddingTop:"",e.paddingRight?e.paddingRight:"",e.paddingBottom?e.paddingBottom:"",e.paddingLeft?e.paddingLeft:"",e.borderTopWidth?e.borderTopWidth:"",e.borderRightWidth?e.borderRightWidth:"",e.borderBottomWidth?e.borderBottomWidth:"",e.borderLeftWidth?e.borderLeftWidth:"")},t.prototype.createId=function(){return++e},t.prototype.getWidth=function(){return this.outerWidth-(parseInt(this.paddingRight,10)+parseInt(this.paddingLeft,10)+parseInt(this.borderRightWidth,10)+parseInt(this.borderLeftWidth,10))},t.prototype.getHeight=function(){return this.outerHeight-(parseInt(this.paddingTop,10)+parseInt(this.paddingBottom,10)+parseInt(this.borderTopWidth,10)+parseInt(this.borderBottomWidth,10))},t}();t.Cell=i}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t,e,i,o,d,r,h,l,s,n,a,b){this.thead=t,this.tbody=e,this.width=i,this.outerWidth=o,this.paddingTop=d,this.paddingRight=r,this.paddingBottom=h,this.paddingLeft=l,this.borderTopWidth=s,this.borderRightWidth=n,this.borderBottomWidth=a,this.borderLeftWidth=b}return e.fromData=function(i){return new e(t.Thead.fromData({}),t.Tbody.fromData({}),i.width?i.width:0,i.outerWidth?i.outerWidth:0,i.paddingTop?i.paddingTop:"",i.paddingRight?i.paddingRight:"",i.paddingBottom?i.paddingBottom:"",i.paddingLeft?i.paddingLeft:"",i.borderTopWidth?i.borderTopWidth:"",i.borderRightWidth?i.borderRightWidth:"",i.borderBottomWidth?i.borderBottomWidth:"",i.borderLeftWidth?i.borderLeftWidth:"")},e.prototype.setStyles=function(t){this.width=parseInt(t.width,10),this.paddingTop=t["padding-top"],this.paddingRight=t["padding-right"],this.paddingBottom=t["padding-bottom"],this.paddingLeft=t["padding-left"],this.borderTopWidth=t["border-top-width"],this.borderRightWidth=t["border-right-width"],this.borderBottomWidth=t["border-bottom-width"],this.borderLeftWidth=t["border-left-width"],this.outerWidth=this.getOuterWidth()},e.prototype.getOuterWidth=function(){return this.width+(parseInt(this.paddingLeft,10)+parseInt(this.paddingRight,10)+parseInt(this.borderLeftWidth,10)+parseInt(this.borderRightWidth,10))},e}();t.Table=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t,e){this.elementIdName=t,this.table=e}return e.fromData=function(i){return new e(i.id?i.id:"fixedTable",t.Table.fromData({}))},e.prototype.getIdName=function(){return this.elementIdName},e}();t.TableView=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function t(t,e,i,o,d,r,h,l){this.cells=t,this.width=e,this.outerWidth=i,this.borderTopWidth=o,this.borderRightWidth=d,this.borderBottomWidth=r,this.borderLeftWidth=h,this.paddingLeft=l}return t.fromData=function(e){return new t([],e.width?e.width:0,e.outerWidth?e.outerWidth:0,e.borderTopWidth?e.borderTopWidth:"",e.borderRightWidth?e.borderRightWidth:"",e.borderBottomWidth?e.borderBottomWidth:"",e.borderLeftWidth?e.borderLeftWidth:"",0)},t.prototype.setCells=function(t){this.cells=t},t.prototype.getCells=function(t,e){return this.cells.filter(function(i){return i.x===t&&i.y===e})},t.prototype.setStyles=function(t){this.paddingLeft=t.thead.cells[0].outerWidth,this.width=t.outerWidth-t.thead.cells[0].outerWidth},t.prototype.getPaddingLeft=function(){return this.paddingLeft},t.prototype.getTbodyWidth=function(){return this.width},t}();t.Tbody=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function t(t,e,i,o,d,r,h,l){this.lineNum=t,this.cells=e,this.width=i,this.outerWidth=o,this.borderTopWidth=d,this.borderRightWidth=r,this.borderBottomWidth=h,this.borderLeftWidth=l}return t.fromData=function(e){return new t(0,[],e.width?e.width:0,e.outerWidth?e.outerWidth:0,e.borderTopWidth?e.borderTopWidth:"",e.borderRightWidth?e.borderRightWidth:"",e.borderBottomWidth?e.borderBottomWidth:"",e.borderLeftWidth?e.borderLeftWidth:"")},t.prototype.setLineNumber=function(t){this.lineNum=t},t.prototype.setCells=function(t){this.cells=t},t.prototype.getCells=function(t,e){return this.cells.filter(function(i){return i.x===t&&i.y===e})},t.prototype.getFirstCell=function(){return this.cells.filter(function(t){return 0===t.x&&0===t.y})},t.prototype.setStyles=function(t){this.borderLeftWidth?this.width=t.outerWidth-(parseInt(this.borderLeftWidth,10)+parseInt(this.borderRightWidth,10)):this.width=t.outerWidth},t.prototype.getWidth=function(){return this.width},t}();t.Thead=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t){this.model=t,this.setElements(),this.setTheadStyle(),this.setTheadLines(),this.createTheadModel(),this.setTbodyStyle(),this.setModels(),this.setStyle(),this.setEvent()}return e.prototype.setElements=function(){this.tableView=document.getElementById(this.model.getTableViewIdName()),this.table=this.tableView.querySelector("table"),this.thead=this.table.querySelector("thead"),this.tbody=this.table.querySelector("tbody");var t=this.table.currentStyle||document.defaultView.getComputedStyle(this.table,"");this.model.setTableStyles(t)},e.prototype.setTheadStyle=function(){this.thead.style.position="absolute",this.thead.style.top="0",this.thead.style.width=this.model.getTheadWidth()+"px",this.thead.style.zIndex="10"},e.prototype.setTbodyStyle=function(){this.model.setTbodyStyles(),this.tbody.style.display="block",this.tbody.style.width=this.model.getTbodyWidth()+"px",this.tbody.style.paddingLeft=this.model.getTbodyPaddingLeft()+"px"},e.prototype.setModels=function(){this.createTbodyModel()},e.prototype.setStyle=function(){this.setTableViewStyle(),this.setTheadFixedStyle(),this.setTbodyFixedStyle()},e.prototype.setEvent=function(){this.setScrollEvent()},e.prototype.getCreateCellModel=function(e,i,o,d,r){return t.Cell.fromData({parent:e,tagName:i[d].tagName,x:d,y:r,outerWidth:i[d].offsetWidth,outerHeight:i[d].offsetHeight,paddingTop:o["padding-top"],paddingRight:o["padding-right"],paddingBottom:o["padding-bottom"],paddingLeft:o["padding-left"],borderTopWidth:o["border-top-width"],borderRightWidth:o["border-right-width"],borderBottomWidth:o["border-bottom-width"],borderLeftWidth:o["border-left-width"]})},e.prototype.createTheadModel=function(){for(var t,e=(this.thead.querySelectorAll("tr"),this.thead.querySelectorAll("tr > *")),i=[],o=0;o<e.length;o++)t=e[o].currentStyle||document.defaultView.getComputedStyle(e[o],""),i.push(this.getCreateCellModel("thead",e,t,o,0));this.model.setTheadCells(i)},e.prototype.createTbodyModel=function(){for(var t,e,i=this.tbody.querySelectorAll("tr"),o=[],d=0;d<i.length;d++){t=i[d].querySelectorAll("tr > *");for(var r=0;r<t.length;r++)e=t[r].currentStyle||document.defaultView.getComputedStyle(t[r],""),o.push(this.getCreateCellModel("tbody",t,e,r,d))}this.model.setTbodyCells(o)},e.prototype.setTheadLines=function(){this.model.setTheadLength(this.table.querySelectorAll("thead tr").length)},e.prototype.setTableViewStyle=function(){this.tableView.style.position="relative",this.tableView.style.overflow="scroll",this.table.style.tableLayout="fixed"},e.prototype.setTheadFixedStyle=function(){for(var t,e,i=this.thead.querySelectorAll("tr"),o=0;o<i.length;o++){t=i[o].querySelectorAll("tr > *");for(var d=0;d<t.length;d++)0==o&&(e=this.model.getTheadCell(d,o)[0],t[d].style.width=e.width+"px")}},e.prototype.setTbodyFixedStyle=function(){for(var t,e=this.tbody.querySelectorAll("tr"),i=this.model.getFirstCell()[0],o=0;o<e.length;o++){t=e[o].querySelectorAll("tr > *");for(var d=0;d<t.length;d++)0==d&&(t[d].style.width=i.width+"px",t[d].style.position="absolute",t[d].style.left="0")}},e.prototype.setTbodyScrollStyle=function(t){for(var e,i=this.tbody.querySelectorAll("tr"),o=0;o<i.length;o++){e=i[o].querySelectorAll("tr > *");for(var d=0;d<e.length;d++)0==d&&(e[d].style.left=t+"px")}},e.prototype.setTheadScrollStyle=function(t){this.thead.style.top=t+"px"},e.prototype.setScrollEvent=function(){var t=this;this.tableView.addEventListener("scroll",function(){t.boxScroll()},!1)},e.prototype.getTableView=function(){return this.tableView},e.prototype.boxScroll=function(){this.setTbodyScrollStyle(this.tableView.scrollLeft),this.setTheadScrollStyle(this.tableView.scrollTop)},e}();t.FixedTableView=e}(FixedTables||(FixedTables={}));