"use strict";var e=eval,global=e("this"),FixedTables;!function(t){var e=function(){function e(e){this.model=new t.FixedTableModel(e),this.view=new t.FixedTableView(this.model),this.controller=new t.FixedTableController}return e}();t.FixedTable=e}(FixedTables||(FixedTables={})),"undefined"!=typeof module&&("undefined"==typeof module.exports.FixedTable&&(module.exports.FixedTable={}),module.exports.FixedTable=FixedTables.FixedTable),"undefined"!=typeof global&&("undefined"==typeof global.FixedTable&&(global.FixedTable={}),global.FixedTable=FixedTables.FixedTable);var FixedTables;!function(t){var e=0,i=function(){function t(t,e,i,o,d,r,n,l,a,h,s,b,u,p,f,g,T){this.id=t,this.parent=e,this.tagName=i,this.x=o,this.y=d,this.width=r,this.height=n,this.outerWidth=l,this.outerHeight=a,this.paddingTop=h,this.paddingRight=s,this.paddingBottom=b,this.paddingLeft=u,this.borderTopWidth=p,this.borderRightWidth=f,this.borderBottomWidth=g,this.borderLeftWidth=T,this.id=this.createId(),this.width=this.getWidth(),this.height=this.getHeight()}return t.fromData=function(e){return new t(e.id?e.id:0,e.parent?e.parent:"",e.tagName?e.tagName:"",e.x?e.x:0,e.y?e.y:0,e.width?e.width:0,e.height?e.height:0,e.outerWidth?e.outerWidth:0,e.outerHeight?e.outerHeight:0,e.paddingTop?e.paddingTop:"",e.paddingRight?e.paddingRight:"",e.paddingBottom?e.paddingBottom:"",e.paddingLeft?e.paddingLeft:"",e.borderTopWidth?e.borderTopWidth:"",e.borderRightWidth?e.borderRightWidth:"",e.borderBottomWidth?e.borderBottomWidth:"",e.borderLeftWidth?e.borderLeftWidth:"")},t.prototype.createId=function(){return++e},t.prototype.getWidth=function(){return this.outerWidth-(parseInt(this.paddingRight,10)+parseInt(this.paddingLeft,10)+parseInt(this.borderRightWidth,10)+parseInt(this.borderLeftWidth,10))},t.prototype.getHeight=function(){return this.outerHeight-(parseInt(this.paddingTop,10)+parseInt(this.paddingBottom,10)+parseInt(this.borderTopWidth,10)+parseInt(this.borderBottomWidth,10))},t}();t.Cell=i}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t,e){this.thead=t,this.tbody=e}return e.fromData=function(i){return new e(t.Thead.fromData({}),t.Tbody.fromData({}))},e}();t.Table=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t,e){this.elementIdName=t,this.table=e}return e.fromData=function(i){return new e(i.id?i.id:"fixedTable",t.Table.fromData({}))},e.prototype.getIdName=function(){return this.elementIdName},e}();t.TableView=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function t(t){this.cells=t}return t.fromData=function(e){return new t([])},t.prototype.setCells=function(t){this.cells=t},t.prototype.getCells=function(t,e){return this.cells.filter(function(i){return i.x===t&&i.y===e})},t}();t.Tbody=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function t(t,e){this.lineNum=t,this.cells=e}return t.fromData=function(e){return new t(0,[])},t.prototype.setLineNumber=function(t){this.lineNum=t},t.prototype.setCells=function(t){this.cells=t},t.prototype.getCells=function(t,e){return this.cells.filter(function(i){return i.x===t&&i.y===e})},t}();t.Thead=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function t(){}return t}();t.FixedTableController=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(e){this.tableView=t.TableView.fromData(e)}return e.prototype.getTableViewIdName=function(){return this.tableView.getIdName()},e.prototype.setTheadLength=function(t){this.tableView.table.thead.setLineNumber(t)},e.prototype.setTheadCells=function(t){this.tableView.table.thead.setCells(t)},e.prototype.setTbodyCells=function(t){this.tableView.table.tbody.setCells(t)},e.prototype.getTheadCell=function(t,e){return this.tableView.table.thead.getCells(t,e)},e.prototype.getTbodyCell=function(t,e){return this.tableView.table.tbody.getCells(t,e)},e}();t.FixedTableModel=e}(FixedTables||(FixedTables={}));var FixedTables;!function(t){var e=function(){function e(t){this.model=t,this.setElements(),this.setModels(),this.setStyle()}return e.prototype.setElements=function(){this.setTableView(),this.setTable(),this.setThead(),this.setTbody()},e.prototype.setModels=function(){this.setTheadLines(),this.createTheadModel(),this.createTbodyModel()},e.prototype.setStyle=function(){this.setTheadFixedStyle(),this.setTbodyFixedStyle()},e.prototype.createTheadModel=function(){for(var e,i=(this.thead.querySelectorAll("tr"),this.thead.querySelectorAll("tr > *")),o=[],d=0;d<i.length;d++)e=i[d].currentStyle||document.defaultView.getComputedStyle(i[d],""),o.push(t.Cell.fromData({parent:"thead",tagName:i[d].tagName,x:d,y:0,outerWidth:i[d].offsetWidth,outerHeight:i[d].offsetHeight,paddingTop:e["padding-top"],paddingRight:e["padding-right"],paddingBottom:e["padding-bottom"],paddingLeft:e["padding-left"],borderTopWidth:e["border-top-width"],borderRightWidth:e["border-right-width"],borderBottomWidth:e["border-bottom-width"],borderLeftWidth:e["border-left-width"]}));this.model.setTheadCells(o)},e.prototype.createTbodyModel=function(){for(var e,i,o=this.tbody.querySelectorAll("tr"),d=[],r=0;r<o.length;r++){e=o[r].querySelectorAll("tr > *");for(var n=0;n<e.length;n++)i=e[n].currentStyle||document.defaultView.getComputedStyle(e[n],""),d.push(t.Cell.fromData({parent:"tbody",tagName:e[n].tagName,x:n,y:r,outerWidth:e[n].offsetWidth,outerHeight:e[n].offsetHeight,paddingTop:i["padding-top"],paddingRight:i["padding-right"],paddingBottom:i["padding-bottom"],paddingLeft:i["padding-left"],borderTopWidth:i["border-top-width"],borderRightWidth:i["border-right-width"],borderBottomWidth:i["border-bottom-width"],borderLeftWidth:i["border-left-width"]}))}this.model.setTbodyCells(d)},e.prototype.setTable=function(){this.table=this.tableView.querySelector("table")},e.prototype.setThead=function(){this.thead=this.table.querySelector("thead")},e.prototype.setTbody=function(){this.tbody=this.table.querySelector("tbody")},e.prototype.setTableView=function(){this.tableView=document.getElementById(this.model.getTableViewIdName())},e.prototype.setTheadLines=function(){this.model.setTheadLength(this.table.querySelectorAll("thead tr").length)},e.prototype.setTheadFixedStyle=function(){for(var t,e,i=this.thead.querySelectorAll("tr"),o=0;o<i.length;o++){t=i[o].querySelectorAll("tr > *");for(var d=0;d<t.length;d++)0==o&&(e=this.model.getTheadCell(d,o)[0],t[d].style.width=e.width+"px",console.log(e))}},e.prototype.setTbodyFixedStyle=function(){for(var t,e,i=this.tbody.querySelectorAll("tr"),o=0;o<i.length;o++){t=i[o].querySelectorAll("tr > *");for(var d=0;d<t.length;d++)0==d&&(e=this.model.getTbodyCell(d,o)[0],t[d].style.width=e.width+"px",console.log(e))}},e}();t.FixedTableView=e}(FixedTables||(FixedTables={}));